<!DOCTYPE html>
<meta charset="utf-8">
<script>console.log("test");</script>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="shortcut icon" href="favicon.svg?a">
<link rel="image_src" href="favicon.svg?a">

<!--START-->
<link rel="stylesheet" href="style.css?e">
<link rel="stylesheet" href="markup.css?b">
<link rel="stylesheet" href="code.css?a">

<script src="event.js?a"></script>
<script src="storage.js?a"></script>

<script src="myself.js?g"></script>

<script src="lp.js?a"></script>

<script src="sbhighlight.js?a"></script>
<script src="12y.js?a"></script>
<script src="bbcode.js?a"></script>

<script src="render.js?d"></script>
<script src="main.js?g"></script>

<!--- NEXT TASK: Clean up html/css !
THere is a lot of repeated stuff
item/textitem are good -- improve them!
there is an issue: max-width: 100%; is not a sustainable solution
consider switching to display: inline; and then using padding on the container? or something.
this allows the float: right elements to be mixed in with the text which is nice, 
though honestly INLINE might be too limiting. but either way, we need a better solution than max-width: 100%;

problem 2:
I think, on small devices, the whole "main document should not scroll"
idea is not good.
perhaps have a separate mode or something, idk.
I don't think pages (or at least, DEFINITELY not discussions) should be in big unscrolling boxes (with only the main page scrolling)
but at the very least, like
perhaps make the main page have a min height of like 600px and the viewport scrolls inside that? idk
-->
<!--END-->
<script>console.log(me.auth)</script>

<main class="pageMode" id="$main">
	<!--
		 
	  -->
	<div class="headerPane">
		<a href="#" class="textItem">Site Logo</a>
		<div class="loggedIn headerRight" id="$loggedIn" style="display: none;"><button id="$logout" class="item">Log Out</button><span class="myName" id="$myName" class="item"></span><img class="myAvatar item" id="$myAvatar"></div><form class="loggedOut headerRight" id="$loggedOut" style="display: none;"><input id="$username" placeholder="username" name="username" class="item"><input id="$password" type="password" name="password" placeholder="password" class="item"><button class="item" id="$login" onclick="event.preventDefault()">Log In</button></form></div>
	
	<div class="navPane" id="$navPane">
		<!--<input type="file" id="$fileinput"></input>-->
	</div>
	
	<div class="titlePane" id="$titlePane">
		<span class="editorMode textItem editingLabel">Editing: <input class="item" id="$titleInput" placeholder="Page Title" required></span><h1 class="pageTitle textItem" id="$pageTitle"></h1>
		<form class="textItem pageMode" id="$vote" autocomplete="off">
			<input type="radio" name="vote" value="b" id="voteB" class="item"><label for="voteB" class="textItem">Bad</label>
			<input type="radio" name="vote" value="o" id="voteO" class="item"><label for="voteO" class="textItem">OK</label>
			<input type="radio" name="vote" value="g" id="voteG" class="item"><label for="voteG" class="textItem">Good</label>
			<input type="radio" name="vote" value="" id="voteN" class="item">
		</form>
		<div class="pageCreate textItem" id="$pageAuthorBox" style="display: none;">
			<span class="textItem">
				<span class="textItem">Author:</span><a id="$authorLink"><span class="pageAuthorName textItem" id="$pageAuthorName"></span><img class="pageAuthorAvatar item" id="$pageAuthorAvatar"></a><span class="pageAuthorDate textItem" id="$pageAuthorDate">
				</span><!-- *standing in the middle of a mess of html*
"gosh, I guess I have to clean all this up, then" -->
			</span><span id="$pageEdited" class="pageEdited">
				<span class="textItem">Edited:</span><a id="$editorLink"><span class="pageAuthorName textItem" id="$pageEditorName"></span><img class="pageAuthorAvatar item" id="$pageEditorAvatar"></a><span class="pageAuthorDate textItem" id="$pageEditorDate"></span>
			</span>
		</div>
	</div>
	<div class="userlistPane userlist chatMode" id="$chatUserlist"></div>
	<div class="messagePane chatMode scroller paneGrow">
		<div class="chatPageContents" id="$chatPageContents"></div>
		<div class="spacer"></div>
		<div id="$messageList" class="messageList"></div>
	</div>

	<div class="infoPane editorMode">
		<button id="$submitEdit">Submit</button><br>
		<input placeholder="Keywords (space separated, optional)"><br>
		<label for="$markupSelect">Markup language:</label>
		<select id="$markupSelect">
			<option value="plaintext">plain text</option>
			<option value="12y">12-y documentation markup format</option>
			<option value="bbcode">bbcode</option>
		</select>
	</div>

	<!--
		 These panes have the main content
		 one of them will be visible at a time, depending on the view mode
	  -->
	<div class="categoryPane paneGrow categoryMode scroller" id="$categoryPane">
		<div id="$categoryDescription" class="categoryDescription pre pageContents"></div>
		<div id="$categoryCategories"></div>
		<div id="$categoryPages" class="categoryPages"></div>
	</div>
	
	<div class="pagePane pageMode scroller paneGrow">
		<div class="pageContents pre" id="$pageContents"></div>
		<div class="spacer"></div>
		<div class="pageUserlist userlist" title="Users viewing this page"></div>
		<div class="pageTextarea">
			<textarea id="$pageTextarea"></textarea>
		</div>
		<div class="pageComments"></div>
	</div>
	
	<div class="editorPane editorMode paneGrow">
		<div class="editorTextarea">
			<textarea id="$editorTextarea"></textarea>
		</div>
		<div class="editorPreview" id="$editorPreview"></div>
	</div>
	
	<div class="homeMode homePane paneGrow">
		hey<br>
		go <a href="#categories/0">her</a>e:<br>
	</div>

	<!--
		 Bottom of the page
	  -->
	<div class="inputPane chatMode">
		<textarea id="$chatTextarea"></textarea>
		<button id="$chatSend">Send</button>
	</div>
</main>
